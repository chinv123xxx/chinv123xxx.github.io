<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</title>

<style>
body {
  margin: 0;
  font-family: "Segoe UI", Tahoma, sans-serif;
  background: #f4f6f8;
}

header {
  background: #1f2937;
  color: #fff;
  padding: 15px;
  text-align: center;
}

main {
  padding: 15px;
  max-width: 1000px;
  margin: auto;
}

section {
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.flex {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 10px;
}

input, select {
  padding: 8px;
  border-radius: 6px;
  border: 1px solid #d1d5db;
}

button {
  border: none;
  border-radius: 8px;
  padding: 10px 16px;
  cursor: pointer;
}

.primary { background: #2563eb; color: #fff; }
.danger { background: #dc2626; color: #fff; }

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

th, td {
  border-bottom: 1px solid #e5e7eb;
  padding: 8px;
  text-align: center;
}

.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.4);
  display: none;
  justify-content: center;
  align-items: center;
}

.modal-box {
  background: #fff;
  padding: 20px;
  width: 90%;
  max-width: 420px;
  border-radius: 12px;
  text-align: center;
}

.hide-for-capture { display: none !important; }
.datetime { font-size: 14px; color: #555; margin-bottom: 10px; }
</style>
</head>

<body>

<header>
  <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>
  <p>‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏î‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</p>
</header>

<main>
<section>
  <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</h2>

  <div class="flex">
    <select id="product">
      <optgroup label="ü•© ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå">
        <option value="‡∏´‡∏°‡∏π‡∏™‡πÑ‡∏•‡∏ã‡πå">‡∏´‡∏°‡∏π‡∏™‡πÑ‡∏•‡∏ã‡πå</option>
        <option value="‡∏´‡∏°‡∏π‡∏´‡∏°‡∏±‡∏Å‡∏á‡∏≤">‡∏´‡∏°‡∏π‡∏´‡∏°‡∏±‡∏Å‡∏á‡∏≤</option>
        <option value="‡∏´‡∏°‡∏π‡∏™‡∏≤‡∏°‡∏ä‡∏±‡πâ‡∏ô">‡∏´‡∏°‡∏π‡∏™‡∏≤‡∏°‡∏ä‡∏±‡πâ‡∏ô</option>
        <option value="‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ß‡∏±‡∏ß‡∏™‡πÑ‡∏•‡∏ã‡πå">‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ß‡∏±‡∏ß‡∏™‡πÑ‡∏•‡∏ã‡πå</option>
        <option value="‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏±‡∏Å‡∏ô‡∏∏‡πà‡∏°">‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏±‡∏Å‡∏ô‡∏∏‡πà‡∏°</option>
        <option value="‡πÑ‡∏Å‡πà‡∏´‡∏°‡∏±‡∏Å">‡πÑ‡∏Å‡πà‡∏´‡∏°‡∏±‡∏Å</option>
        <option value="‡πÄ‡∏ö‡∏Ñ‡∏≠‡∏ô">‡πÄ‡∏ö‡∏Ñ‡∏≠‡∏ô</option>
        <option value="‡πÑ‡∏™‡πâ‡∏Å‡∏£‡∏≠‡∏Å">‡πÑ‡∏™‡πâ‡∏Å‡∏£‡∏≠‡∏Å</option>
        <option value="‡∏•‡∏π‡∏Å‡∏ä‡∏¥‡πâ‡∏ô">‡∏•‡∏π‡∏Å‡∏ä‡∏¥‡πâ‡∏ô</option>
      </optgroup>

      <optgroup label="ü¶ê ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏∞‡πÄ‡∏•">
        <option value="‡∏Å‡∏∏‡πâ‡∏á">‡∏Å‡∏∏‡πâ‡∏á</option>
        <option value="‡∏õ‡∏•‡∏≤‡∏´‡∏°‡∏∂‡∏Å">‡∏õ‡∏•‡∏≤‡∏´‡∏°‡∏∂‡∏Å</option>
        <option value="‡∏´‡∏≠‡∏¢‡πÅ‡∏°‡∏•‡∏á‡∏†‡∏π‡πà">‡∏´‡∏≠‡∏¢‡πÅ‡∏°‡∏•‡∏á‡∏†‡∏π‡πà</option>
        <option value="‡∏´‡∏≠‡∏¢‡πÄ‡∏ä‡∏•‡∏•‡πå">‡∏´‡∏≠‡∏¢‡πÄ‡∏ä‡∏•‡∏•‡πå</option>
        <option value="‡∏õ‡∏•‡∏≤">‡∏õ‡∏•‡∏≤</option>
        <option value="‡∏õ‡∏•‡∏≤‡∏î‡∏≠‡∏•‡∏•‡∏µ‡πà">‡∏õ‡∏•‡∏≤‡∏î‡∏≠‡∏•‡∏•‡∏µ‡πà</option>
      </optgroup>
    </select>

    <input type="number" id="qty" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô">
    <input type="text" id="note" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)">
    <button class="primary" onclick="addOrder()">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
        <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
        <th>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
        <th>‡∏•‡∏ö</th>
      </tr>
    </thead>
    <tbody id="orderList"></tbody>
  </table>

  <div class="flex">
    <button class="danger" onclick="clearAll()">‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
    <button class="primary" onclick="openSummary()">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</button>
  </div>
</section>
</main>

<!-- Summary -->
<div id="summaryModal" class="modal">
  <div class="modal-box" id="summaryBox">
    <h3>‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á</h3>
    <div class="datetime" id="dt"></div>

    <table>
      <thead>
        <tr>
          <th>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
          <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
          <th>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
        </tr>
      </thead>
      <tbody id="summaryList"></tbody>
    </table>

    <div class="flex capture-buttons">
      <button class="primary" onclick="saveImg()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ</button>
      <button class="danger" onclick="closeSummary()">‡∏õ‡∏¥‡∏î</button>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<script>
let orders = [];

function addOrder() {
  const name = product.value;
  const qty = document.getElementById("qty").value;
  const note = document.getElementById("note").value;

  if (qty <= 0) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô");

  orders.push({ name, qty, note });
  document.getElementById("qty").value = "";
  document.getElementById("note").value = "";
  render();
}

function render() {
  orderList.innerHTML = "";
  orders.forEach((o,i)=>{
    orderList.innerHTML += `
    <tr>
      <td>${o.name}</td>
      <td>${o.qty}</td>
      <td>${o.note || "-"}</td>
      <td><button class="danger" onclick="orders.splice(${i},1);render()">‚ùå</button></td>
    </tr>`;
  });
}

function clearAll(){ orders=[]; render(); }

function openSummary(){
  if(!orders.length) return alert("‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£");
  summaryList.innerHTML="";
  orders.forEach(o=>{
    summaryList.innerHTML+=`
    <tr>
      <td>${o.name}</td>
      <td>${o.qty}</td>
      <td>${o.note || "-"}</td>
    </tr>`;
  });
  dt.innerText = "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà " + new Date().toLocaleString("th-TH");
  summaryModal.style.display="flex";
}

function closeSummary(){ summaryModal.style.display="none"; }

function saveImg(){
  document.querySelector(".capture-buttons").classList.add("hide-for-capture");
  html2canvas(summaryBox).then(c=>{
    const a=document.createElement("a");
    a.href=c.toDataURL();
    a.download="order-summary.png";
    a.click();
    document.querySelector(".capture-buttons").classList.remove("hide-for-capture");
  });
}
</script>

</body>
</html>
